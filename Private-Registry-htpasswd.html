<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" class=" js flexbox flexboxlegacy canvas canvastext no-touch hashchange history draganddrop rgba no-hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio svg inlinesvg svgclippaths js_active  vc_desktop  vc_transform  vc_transform  vc_transform " lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        	
        <meta charset="UTF-8">
        <link rel="profile" href="http://gmpg.org/xfn/11">
        <link rel="pingback" href="http://blog.agilepartner.net/xmlrpc.php">
                <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
        
	<title>Private Docker Registry - Agile Partner Blog</title>
<script type="text/javascript" async="" src="Private-Registry-htpasswd_files/linkid.js" style=""></script><script async="" src="Private-Registry-htpasswd_files/analytics.js"></script><script type="application/javascript">var qodeCoreAjaxUrl = "http://blog.agilepartner.net/wp-admin/admin-ajax.php"</script>
<!-- This site is optimized with the Yoast SEO plugin v4.7 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Docker Inc has open sourced their registry for us to run on premise. It comes without a nice shiny GUI and will require API calls to do common things like listing the images in the registry or delete an image from it.">
<meta name="robots" content="noodp">
<link rel="canonical" href="http://blog.agilepartner.net/private-docker-registry/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Private Docker Registry">
<meta property="og:description" content="Docker Inc has open sourced their registry for us to run on premise. It comes without a nice shiny GUI and will require API calls to do common things like listing the images in the registry or delete an image from it.">
<meta property="og:url" content="http://blog.agilepartner.net/private-docker-registry/">
<meta property="og:site_name" content="Agile Partner Blog">
<meta property="article:publisher" content="https://www.facebook.com/agilepartner">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="vagrant">
<meta property="article:section" content="Coding">
<meta property="article:published_time" content="2015-08-25T12:11:49+02:00">
<meta property="article:modified_time" content="2016-04-12T11:37:50+02:00">
<meta property="og:updated_time" content="2016-04-12T11:37:50+02:00">
<meta property="og:image" content="http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1.png">
<meta property="og:image:width" content="297">
<meta property="og:image:height" content="250">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Docker Inc has open sourced their registry for us to run on premise. It comes without a nice shiny GUI and will require API calls to do common things like listing the images in the registry or delete an image from it.">
<meta name="twitter:title" content="Private Docker Registry">
<meta name="twitter:image" content="http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1.png">
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="http://maps.googleapis.com/">
<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Agile Partner Blog » Feed" href="http://blog.agilepartner.net/feed/">
<link rel="alternate" type="application/rss+xml" title="Agile Partner Blog » Comments Feed" href="http://blog.agilepartner.net/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Agile Partner Blog » Private Docker Registry Comments Feed" href="http://blog.agilepartner.net/private-docker-registry/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.agilepartner.net\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="Private-Registry-htpasswd_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="crayon-css" href="Private-Registry-htpasswd_files/crayon.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="Private-Registry-htpasswd_files/classic.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-solarized-light-css" href="Private-Registry-htpasswd_files/solarized-light.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="Private-Registry-htpasswd_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="layerslider-css" href="Private-Registry-htpasswd_files/layerslider.css" type="text/css" media="all">
<link rel="stylesheet" id="ls-google-fonts-css" href="Private-Registry-htpasswd_files/css.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_default_style-css" href="Private-Registry-htpasswd_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_modules_plugins-css" href="Private-Registry-htpasswd_files/plugins.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_modules-css" href="Private-Registry-htpasswd_files/modules.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_font_awesome-css" href="Private-Registry-htpasswd_files/font-awesome.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_font_elegant-css" href="Private-Registry-htpasswd_files/style_002.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_ion_icons-css" href="Private-Registry-htpasswd_files/ionicons.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_linea_icons-css" href="Private-Registry-htpasswd_files/style_003.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_simple_line_icons-css" href="Private-Registry-htpasswd_files/simple-line-icons.css" type="text/css" media="all">
<link rel="stylesheet" id="qodef_dripicons-css" href="Private-Registry-htpasswd_files/dripicons.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_blog-css" href="Private-Registry-htpasswd_files/blog.css" type="text/css" media="all">
<link rel="stylesheet" id="mediaelement-css" href="Private-Registry-htpasswd_files/mediaelementplayer.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="Private-Registry-htpasswd_files/wp-mediaelement.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_modules_responsive-css" href="Private-Registry-htpasswd_files/modules-responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_blog_responsive-css" href="Private-Registry-htpasswd_files/blog-responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_style_dynamic_responsive-css" href="Private-Registry-htpasswd_files/style_dynamic_responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_style_dynamic-css" href="Private-Registry-htpasswd_files/style_dynamic.css" type="text/css" media="all">
<link rel="stylesheet" id="js_composer_front-css" href="Private-Registry-htpasswd_files/js_composer.css" type="text/css" media="all">
<link rel="stylesheet" id="qode_startit_google_fonts-css" href="Private-Registry-htpasswd_files/css_002.css" type="text/css" media="all">
<!-- This site uses the Google Analytics by MonsterInsights plugin v6.1.7 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	var disableStr = 'ga-disable-UA-29550143-2';
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-29550143-2', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('require', 'displayfeatures');
	__gaTracker('require', 'linkid', 'linkid.js');
	__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by MonsterInsights -->
<script type="text/javascript" src="Private-Registry-htpasswd_files/jquery.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/jquery-migrate.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/blog.agilepartner.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/crayon.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/scrolltoplugin.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/greensock.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/layerslider_002.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/layerslider.js"></script>
<link rel="https://api.w.org/" href="http://blog.agilepartner.net/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.agilepartner.net/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.agilepartner.net/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.7.5">
<link rel="shortlink" href="http://blog.agilepartner.net/?p=2192">
<link rel="alternate" type="application/json+oembed" href="http://blog.agilepartner.net/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.agilepartner.net%2Fprivate-docker-registry%2F">
<link rel="alternate" type="text/xml+oembed" href="http://blog.agilepartner.net/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.agilepartner.net%2Fprivate-docker-registry%2F&amp;format=xml">
<meta name="framework" content="Alkivia Framework 0.8">
<!-- <meta name="NextGEN" version="2.2.3" /> -->
<style type="text/css">.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;     float: left;
    width: 30%;
    margin-right: 3%;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;}
.rp4wp-related-posts{    height: 309px;
    display: block;
    margin-top: 50px;
    padding-top: 25px;
    border-top: 1px solid #dadada;}</style>
<!--[if IE 9]><link rel="stylesheet" type="text/css" href="http://blog.agilepartner.net/wp-content/themes/startit/assets/css/ie9_stylesheet.min.css" media="screen"><![endif]--><meta name="generator" content="Powered by Visual Composer - drag and drop page builder for WordPress.">
<!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="http://blog.agilepartner.net/wp-content/plugins/js_composer/assets/css/vc_lte_ie9.min.css" media="screen"><![endif]--><!--[if IE  8]><link rel="stylesheet" type="text/css" href="http://blog.agilepartner.net/wp-content/plugins/js_composer/assets/css/vc-ie8.min.css" media="screen"><![endif]--><style type="text/css" id="qode_startit-custom-css">.qodef-unordered-list.qodef-animate-list ul li {
    opacity: 1;
    top:  0px; 
color: #312B2A;
font-size: 16px;
font-family: Lato;
margin-left: 15px;
}
div.qodef-blog-single article .qodef-post-image img{
display: none;
}
@media only screen and (max-width: 1024px){
    .qodef-header-vertical .qodef-vertical-menu-area {
        display: none;
    }    
    .qodef-header-vertical .qodef-content, .qodef-header-vertical footer {
        padding-left: 0;
    }
}

.qodef-filter-blog-holder li.qodef-active{
color: #CA2027;
}

p{
margin-bottom: 15px;
}

h1, h2, h3, h4, h5, h6{
margin-bottom: 5px; 
}

li.qodef-pagination{
width: auto;
}</style><noscript><style type="text/css"> .wpb_animate_when_almost_visible { opacity: 1; }</style></noscript><style>.fluidvids {width: 100%; max-width: 100%; position: relative;}.fluidvids-item {position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;}</style><script type="text/javascript" charset="UTF-8" src="Private-Registry-htpasswd_files/common.js"></script><script type="text/javascript" charset="UTF-8" src="Private-Registry-htpasswd_files/util.js"></script><script type="text/javascript" charset="UTF-8" src="Private-Registry-htpasswd_files/stats.js"></script></head>

<body class="post-template-default single single-post postid-2192 single-format-standard qode-core-1.0 startit-ver-2.3  qodef-blog-installed qodef-header-vertical qodef-fixed-on-scroll qodef-default-mobile-header qodef-sticky-up-mobile-header qodef-dropdown-default qodef-light-header wpb-js-composer js-comp-ver-4.12 vc_responsive">

<div class="qodef-wrapper">
    <div class="qodef-wrapper-inner">
        <aside class="qodef-vertical-menu-area">
    <div class="qodef-vertical-menu-area-inner">
        <div class="qodef-vertical-area-background" style=";;"></div>
        
<div class="qodef-logo-wrapper">
    <a href="http://blog.agilepartner.net/" style="height: 191px;" data-wpel-link="internal">
        <img class="qodef-normal-logo" src="Private-Registry-htpasswd_files/AgilePartner_big.png" alt="logo">
        <img class="qodef-dark-logo" src="Private-Registry-htpasswd_files/AgilePartner_big.png" alt="dark logo">        <img class="qodef-light-logo" src="Private-Registry-htpasswd_files/agile_partner_logo_white.png" alt="light logo">    </a>
</div>

        
    <nav data-navigation-type="float" class="qodef-vertical-menu qodef-vertical-dropdown-float">
        <ul id="menu-main" class=""><li id="nav-menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home  narrow"><a href="http://blog.agilepartner.net/" class="" data-wpel-link="internal"><span class="item_outer"><span class="item_inner"><span class="menu_icon_wrapper"><i class="menu_icon blank fa"></i></span><span class="item_text">Home</span></span><span class="plus"></span></span></a></li>
<li id="nav-menu-item-2704" class="menu-item menu-item-type-custom menu-item-object-custom  narrow"><a href="http://devops.agilepartner.net/" class="" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer"><span class="item_outer"><span class="item_inner"><span class="menu_icon_wrapper"><i class="menu_icon blank fa"></i></span><span class="item_text">DevOps</span></span><span class="plus"></span></span></a></li>
<li id="nav-menu-item-10" class="menu-item menu-item-type-custom menu-item-object-custom  narrow"><a href="http://www.agilepartner.net/" class="" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer"><span class="item_outer"><span class="item_inner"><span class="menu_icon_wrapper"><i class="menu_icon blank fa"></i></span><span class="item_text">Our website</span></span><span class="plus"></span></span></a></li>
</ul>    </nav>

        <div class="qodef-vertical-area-widget-holder">
                    </div>
    </div>
</aside>


<header class="qodef-mobile-header qodef-animate-mobile-header" style="margin-bottom: 0px;">
    <div class="qodef-mobile-header-inner">
                <div class="qodef-mobile-header-holder">
            <div class="qodef-grid">
                <div class="qodef-vertical-align-containers">
                                            <div class="qodef-mobile-menu-opener">
                            <a href="javascript:void(0)" data-wpel-link="internal">
                    <span class="qodef-mobile-opener-icon-holder">
                        <i class="qodef-icon-font-awesome fa fa-bars "></i>                    </span>
                            </a>
                        </div>
                                                                <div class="qodef-position-center">
                            <div class="qodef-position-center-inner">
                                
<div class="qodef-mobile-logo-wrapper">
    <a href="http://blog.agilepartner.net/" style="height: 152px" data-wpel-link="internal">
        <img src="Private-Registry-htpasswd_files/AgilePartner-logo-sans-texte.png" alt="mobile-logo">
    </a>
</div>

                            </div>
                        </div>
                                        <div class="qodef-position-right">
                        <div class="qodef-position-right-inner">
                                                    </div>
                    </div>
                </div> <!-- close .qodef-vertical-align-containers -->
            </div>
        </div>
        
<nav class="qodef-mobile-nav">
    <div class="qodef-grid">
        <ul id="menu-main-1" class=""><li id="mobile-menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home "><a href="http://blog.agilepartner.net/" class="" data-wpel-link="internal"><span>Home</span></a></li>
<li id="mobile-menu-item-2704" class="menu-item menu-item-type-custom menu-item-object-custom "><a href="http://devops.agilepartner.net/" class="" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer"><span>DevOps</span></a></li>
<li id="mobile-menu-item-10" class="menu-item menu-item-type-custom menu-item-object-custom "><a href="http://www.agilepartner.net/" class="" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer"><span>Our website</span></a></li>
</ul>    </div>
</nav>

    </div>
</header> <!-- close .qodef-mobile-header -->


                    <a id="qodef-back-to-top" href="#" data-wpel-link="internal" class="on">
                <span class="qodef-icon-stack">
                     <i class="qodef-icon-font-awesome fa fa-chevron-up "></i>                </span>
            </a>
                
        <div class="qodef-content">
 <div class="qodef-content-inner">
    <div class="qodef-title qodef-standard-type qodef-content-left-alignment qodef-animation-left-right" style="height:250px;background-color:#ca2027;" data-height="250">
        <div class="qodef-title-image"></div>
        <div class="qodef-title-holder" style="height:250px;">
            <div class="qodef-container clearfix">
                <div class="qodef-container-inner">
                    <div class="qodef-title-subtitle-holder" style="">
                        <div class="qodef-title-subtitle-holder-inner">
                                                        <h1><span>Private Docker Registry</span></h1>
                                                                                                                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

	<div class="qodef-container">
				<div class="qodef-container-inner">
				<div class="qodef-blog-holder qodef-blog-single">
		<article id="post-2192" class="post-2192 post type-post status-publish format-standard has-post-thumbnail hentry category-coding tag-docker tag-vagrant">
	<div class="qodef-post-content">
			<div class="qodef-post-image">
			<img src="Private-Registry-htpasswd_files/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f_002.png" class="attachment-full size-full wp-post-image" alt="Docker" height="250" width="297">	</div>
		<div class="qodef-post-text">
			<div class="qodef-post-text-inner">
				<div class="qodef-blog-standard-post-date">
	<span class="date">25</span>
	<span class="month">Aug</span>
</div>				<div class="qodef-blog-standard-info-holder">
					<h2 class="qodef-post-title">
	Private Docker Registry</h2>					<div class="qodef-post-info">
						<div class="qodef-post-info-author">by <a class="qodef-post-info-author-link" href="http://blog.agilepartner.net/author/olivier/" data-wpel-link="internal">Olivier Robert</a></div>
<div class="qodef-post-info-category">
    in <a href="http://blog.agilepartner.net/coding/" rel="category tag" data-wpel-link="internal">Coding</a></div><div class="qodef-post-info-comments-holder"><a class="qodef-post-info-comments" href="http://blog.agilepartner.net/private-docker-registry/#respond" target="_self" data-wpel-link="internal">Comments</a></div>					</div>
				</div>
				<p><a href="http://docker.com/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer"><img class="size-full wp-image-2356 aligncenter" src="Private-Registry-htpasswd_files/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f_002.png" alt="Docker" height="250" width="297"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a href="http://docker.com/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Docker Inc</a> has open sourced their <a href="https://hub.docker.com/_/registry/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">registry</a>
 for us to run on premise. It comes without a nice shiny GUI and will 
require API calls to do common things like listing the images in the 
registry or delete an image from it. It comes with several caveats as 
well and they are <a href="https://docs.docker.com/registry/deploying/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">very clear</a> about it. It is up to you to decide if you want to go cloud (<a href="https://hub.docker.com/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Docker Hub</a> or <a href="https://quay.io/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Quay</a> for example), install the <a href="https://hub.docker.com/enterprise/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Docker Trusted Registry</a> (Docker Hub on premise!) or go the DIY route.</p>
<p>DIY? Well, down the rabbit hole we go! We’ll concentrate our efforts 
on the registry v2 as v1 is deprecated. You can work in a non secure 
mode, i.e. plain HTTP, or (strong hint), in a secured mode (SSL) using a
 certificate (like you would to secure your web server). Authentication 
is part of the bundle as well. We’ll try to make a simple, yet secure 
registry of our own.</p>
<p>Let’s start with the non secure setup. We’ll need 2 VMs (to make our 
push/pull requests a bit more realistic). It’ll work just fine on a 
single VM, but I like to be closer to reality if possible and spinning 
up another VM is simple enough. One VM will run the registry. The other 
VM will simulate a user using our registry. In order to set up, we’ll 
use <a href="https://www.vagrantup.com/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Vagrant</a>
 to create the 2 CentOS 7 based VMs (you will need to do commands as 
root) and docker machine to quickly install and secure docker.</p>
<p>Here is our Vagrant file</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e09872361484368" class="crayon-syntax crayon-theme-solarized-light crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Vagrantfile</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Ruby</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft"># -*- mode: ruby -*-
# vi: set ft=ruby :

VAGRANTFILE_API_VERSION = "2"

INSTANCE_NAME_PREFIX = "reg"
VB_NUM_CPU = 2
VB_NUM_MEM = 2048
BOX = "bob/centos7-vb5"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

  (1..2).each do |n|
    vmName = "%s-%02d" % [INSTANCE_NAME_PREFIX, n]
    config.vm.define "#{vmName}" do |machine|
      machine.vm.box = "#{BOX}"
      machine.vm.box_check_update = false

      address = "192.168.60.#{n+10}"
      machine.vm.network "private_network", ip: address
      machine.vm.hostname = "#{vmName}"

      config.vm.synced_folder ".", "/vagrant", disabled: true
      machine.vm.synced_folder "/Users", "/Users"
      machine.ssh.insert_key = false

      machine.vm.provider "virtualbox" do |vb|
        vb.cpus = VB_NUM_CPU
        vb.memory = VB_NUM_MEM
        vb.name = "#{vmName}"
      end
    end
  end
end</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e09872361484368-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-2">2</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-4">4</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-6">6</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-8">8</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-10">10</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-12">12</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-14">14</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-16">16</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-18">18</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-20">20</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-22">22</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-24">24</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-26">26</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-28">28</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-30">30</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-32">32</div><div class="crayon-num" data-line="crayon-591d685e09872361484368-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09872361484368-34">34</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e09872361484368-1"><span class="crayon-c"># -*- mode: ruby -*-</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-2"><span class="crayon-c"># vi: set ft=ruby :</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-4"><span class="crayon-v">VAGRANTFILE_API_VERSION</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"2"</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-6"><span class="crayon-v">INSTANCE_NAME_PREFIX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"reg"</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-7"><span class="crayon-v">VB_NUM_CPU</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-8"><span class="crayon-v">VB_NUM_MEM</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2048</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-9"><span class="crayon-v">BOX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"bob/centos7-vb5"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-10">&nbsp;</div><div class="crayon-line" id="crayon-591d685e09872361484368-11"><span class="crayon-v">Vagrant</span><span class="crayon-sy">.</span><span class="crayon-e">configure</span><span class="crayon-sy">(</span><span class="crayon-v">VAGRANTFILE_API_VERSION</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">config</span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-12">&nbsp;</div><div class="crayon-line" id="crayon-591d685e09872361484368-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-cn">1..2</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-i">each</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">n</span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vmName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"%s-%02d"</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">INSTANCE_NAME_PREFIX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">n</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-i">define</span><span class="crayon-h"> </span><span class="crayon-s">"#{vmName}"</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">machine</span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">box</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"#{BOX}"</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">box_check_update</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-18">&nbsp;</div><div class="crayon-line" id="crayon-591d685e09872361484368-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">address</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"192.168.60.#{n+10}"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-i">network</span><span class="crayon-h"> </span><span class="crayon-s">"private_network"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ip</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">address</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">hostname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"#{vmName}"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-22">&nbsp;</div><div class="crayon-line" id="crayon-591d685e09872361484368-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">synced</span><span class="crayon-sy">_</span>folder<span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"/vagrant"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">disabled</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-r">true</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">synced</span><span class="crayon-sy">_</span>folder<span class="crayon-h"> </span><span class="crayon-s">"/Users"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"/Users"</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-sy">.</span><span class="crayon-v">insert_key</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-26">&nbsp;</div><div class="crayon-line" id="crayon-591d685e09872361484368-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">machine</span><span class="crayon-sy">.</span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-i">provider</span><span class="crayon-h"> </span><span class="crayon-s">"virtualbox"</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">vb</span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vb</span><span class="crayon-sy">.</span><span class="crayon-v">cpus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">VB_NUM</span><span class="crayon-sy">_</span>CPU</div><div class="crayon-line" id="crayon-591d685e09872361484368-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vb</span><span class="crayon-sy">.</span><span class="crayon-v">memory</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">VB_NUM</span><span class="crayon-sy">_</span>MEM</div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vb</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"#{vmName}"</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-591d685e09872361484368-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09872361484368-34"><span class="crayon-st">end</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0053 seconds] -->
<p><code>vagrant up</code> and install docker using docker machine</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e0987f336741664" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">dm
 create -d generic --generic-ip-address 192.168.60.11 --generic-ssh-user
 vagrant --generic-ssh-key ~/.vagrant.d/insecure_private_key reg01
dm create -d generic --generic-ip-address 192.168.60.12 
--generic-ssh-user vagrant --generic-ssh-key 
~/.vagrant.d/insecure_private_key reg02</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e0987f336741664-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0987f336741664-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e0987f336741664-1"><span class="crayon-e">dm </span><span class="crayon-v">create</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-v">generic</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ip</span><span class="crayon-o">-</span><span class="crayon-i">address</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.60.11</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-e">user </span><span class="crayon-v">vagrant</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-e">.vagrant</span><span class="crayon-e">.d</span><span class="crayon-o">/</span><span class="crayon-e">insecure_private_key </span><span class="crayon-e">reg01</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0987f336741664-2"><span class="crayon-e">dm </span><span class="crayon-v">create</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-v">generic</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ip</span><span class="crayon-o">-</span><span class="crayon-i">address</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.60.12</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-e">user </span><span class="crayon-v">vagrant</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">generic</span><span class="crayon-o">-</span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-e">.vagrant</span><span class="crayon-e">.d</span><span class="crayon-o">/</span><span class="crayon-e">insecure_private_key </span><span class="crayon-v">reg02</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p>reg01 will run the registry and reg02 will be used to interact with it.</p>
<p>On to the registry on reg01: <code>docker pull registry:2</code> (don’t forget the tag)</p>
<p>We’ll skip using localhost (no security concerns) and go straight for
 the unsecure setup. If you have a DNS, reg01 should be known as 
myreg.net or whatever you choose as domain name. As we won’t create a 
DNS subnet to test stuff on throw away VMs, we’ll go with the classic 
/etc/hosts entry. On each VM, we’ll enter the following in /etc/hosts 
(as root user)</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e09885779374523" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">/etc/hosts</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">192.168.60.11   myreg.net</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e09885779374523-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e09885779374523-1"><span class="crayon-cn">192.168.60.11</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Now that our registry has a name, we’ll restart each of the docker 
daemons to instruct them about an unsecure registry we want to use. On 
both VMs, edit /etc/systemd/system/docker.service and add <code>--insecure-registry myreg.net:5000</code> at the end of the ExecStart line. Restart the docker service.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e09889736652822" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 30px; overflow: hidden;" wrap="soft">systemctl daemon-reload
systemctl restart docker</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e09889736652822-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09889736652822-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e09889736652822-1"><span class="crayon-e">systemctl </span><span class="crayon-v">daemon</span><span class="crayon-o">-</span><span class="crayon-e">reload</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09889736652822-2"><span class="crayon-e">systemctl </span><span class="crayon-e">restart </span><span class="crayon-v">docker</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Last, we’ll create a directory we’ll use as a volume to store the 
registry’s data. You can decide what storage strategy you want to use 
later on: filesystem, S3, Azure, … For the time being, we use filesystem
 (default). <code>/reg</code> on reg01 will do just fine. We’re all set.</p>
<p>On reg01, run the registry with</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e0988e839051675" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 15px; overflow: hidden;" wrap="soft">docker run -d -p 5000:5000 --restart=always --name registry -v /reg:/var/lib/registry registry:2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e0988e839051675-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e0988e839051675-1"><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">restart</span><span class="crayon-o">=</span><span class="crayon-v">always</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">reg</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-e">registry </span><span class="crayon-v">registry</span><span class="crayon-o">:</span><span class="crayon-cn">2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Check time!</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e09892948780389" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 255px; overflow: hidden;" wrap="soft">&amp;gt; curl -v myreg.net:5000/v2/
* Hostname was NOT found in DNS cache
*   Trying 192.168.60.11...
* Connected to myreg.net (192.168.60.11) port 5000 (#0)
&amp;gt; GET /v2/ HTTP/1.1
&amp;gt; User-Agent: curl/7.37.1
&amp;gt; Host: myreg.net:5000
&amp;gt; Accept: */*
&amp;gt;
&amp;lt; HTTP/1.1 200 OK
&amp;lt; Content-Length: 2
&amp;lt; Content-Type: application/json; charset=utf-8
&amp;lt; Docker-Distribution-Api-Version: registry/2.0
&amp;lt; Date: Mon, 17 Aug 2015 12:14:32 GMT
&amp;lt;
{}
* Connection #0 to host myreg.net left intact</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e09892948780389-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-2">2</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-4">4</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-6">6</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-8">8</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-10">10</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-12">12</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-14">14</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09892948780389-16">16</div><div class="crayon-num" data-line="crayon-591d685e09892948780389-17">17</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e09892948780389-1"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-2"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Hostname </span><span class="crayon-e">was </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-e">found </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">DNS </span><span class="crayon-v">cache</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-3"><span class="crayon-o">*</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Trying</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.60.11...</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-4"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Connected </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">192.168.60.11</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">port</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-c">#0)</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-5"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">GET</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-6"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">User</span><span class="crayon-o">-</span><span class="crayon-v">Agent</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-o">/</span><span class="crayon-cn">7.37.1</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-7"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Host</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-8"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Accept</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-9"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-10"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-h"> </span><span class="crayon-v">OK</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-11"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-v">Length</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-12"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-r">Type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">application</span><span class="crayon-o">/</span><span class="crayon-v">json</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-v">utf</span><span class="crayon-o">-</span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-13"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Docker</span><span class="crayon-o">-</span><span class="crayon-v">Distribution</span><span class="crayon-o">-</span><span class="crayon-v">Api</span><span class="crayon-o">-</span><span class="crayon-v">Version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-14"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Mon</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-i">Aug</span><span class="crayon-h"> </span><span class="crayon-cn">2015</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-cn">14</span><span class="crayon-o">:</span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-v">GMT</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-15"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09892948780389-16"><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-591d685e09892948780389-17"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">Connection</span><span class="crayon-h"> </span><span class="crayon-c">#0 to host myreg.net left intact</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0041 seconds] -->
<p>LGTM! Our registry should be empty, and oh surprise, it is (response is an empty array)</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e09897711104963" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 255px; overflow: hidden;" wrap="soft">&amp;gt; curl -v myreg.net:5000/v2/_catalog
* Hostname was NOT found in DNS cache
*   Trying 192.168.60.11...
* Connected to myreg.net (192.168.60.11) port 5000 (#0)
&amp;gt; GET /v2/_catalog HTTP/1.1
&amp;gt; User-Agent: curl/7.37.1
&amp;gt; Host: myreg.net:5000
&amp;gt; Accept: */*
&amp;gt;
&amp;lt; HTTP/1.1 200 OK
&amp;lt; Content-Type: application/json; charset=utf-8
&amp;lt; Docker-Distribution-Api-Version: registry/2.0
&amp;lt; Date: Mon, 17 Aug 2015 12:16:36 GMT
&amp;lt; Content-Length: 20
&amp;lt;
{"repositories":[]}
* Connection #0 to host myreg.net left intact</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e09897711104963-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-2">2</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-4">4</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-6">6</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-8">8</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-10">10</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-12">12</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-14">14</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e09897711104963-16">16</div><div class="crayon-num" data-line="crayon-591d685e09897711104963-17">17</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e09897711104963-1"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">_catalog</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-2"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Hostname </span><span class="crayon-e">was </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-e">found </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">DNS </span><span class="crayon-v">cache</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-3"><span class="crayon-o">*</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Trying</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.60.11...</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-4"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Connected </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">192.168.60.11</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">port</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-c">#0)</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-5"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">GET</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-e">_catalog </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-6"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">User</span><span class="crayon-o">-</span><span class="crayon-v">Agent</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-o">/</span><span class="crayon-cn">7.37.1</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-7"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Host</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-8"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Accept</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-9"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-10"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-h"> </span><span class="crayon-v">OK</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-11"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-r">Type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">application</span><span class="crayon-o">/</span><span class="crayon-v">json</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-v">utf</span><span class="crayon-o">-</span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-12"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Docker</span><span class="crayon-o">-</span><span class="crayon-v">Distribution</span><span class="crayon-o">-</span><span class="crayon-v">Api</span><span class="crayon-o">-</span><span class="crayon-v">Version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-13"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Mon</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-i">Aug</span><span class="crayon-h"> </span><span class="crayon-cn">2015</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">36</span><span class="crayon-h"> </span><span class="crayon-v">GMT</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-14"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-v">Length</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">20</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-15"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e09897711104963-16"><span class="crayon-sy">{</span><span class="crayon-s">"repositories"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-591d685e09897711104963-17"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">Connection</span><span class="crayon-h"> </span><span class="crayon-c">#0 to host myreg.net left intact</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0042 seconds] -->
<p>On reg02, pull the ubuntu image or whatever image you prefer, tag it 
and push it to your private registry. Delete the tag and the ubuntu 
image. Now pull the image again, but this time, from your private 
registry.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e0989c811729131" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 1065px; overflow: hidden;" wrap="soft">&amp;gt; docker pull ubuntu
Using default tag: latest
latest: Pulling from library/ubuntu
6071b4945dcf: Pull complete
5bff21ba5409: Pull complete
e5855facec0b: Pull complete
8251da35e7a7: Pull complete
Digest: sha256:1572e29178048ad9ab72e78edd4decc91a3d8a8dea0ca39817efc7cf2d86c6d7
Status: Downloaded newer image for ubuntu:latest

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker tag ubuntu myreg.net:5000/ubuntu

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker push myreg.net:5000/ubuntu
The push refers to a repository [myreg.net:5000/ubuntu] (len: 1)
8251da35e7a7: Image successfully pushed
e5855facec0b: Image successfully pushed
5bff21ba5409: Image successfully pushed
6071b4945dcf: Image successfully pushed
latest: digest: sha256:d10032f006615a857120833b8ec8c34a838a5608288a8c7c19e552a1f0b7d463 size: 7719

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
myreg.net:5000/ubuntu   latest              8251da35e7a7        9 days ago          188.3 MB
ubuntu                  latest              8251da35e7a7        9 days ago          188.3 MB

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker rmi myreg.net:5000/ubuntu
Untagged: myreg.net:5000/ubuntu:latest

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker rmi ubuntu
Untagged: ubuntu:latest
Deleted: 8251da35e7a79dca688682f6da6148a06d358c6f094020844468a782842c2172
Deleted: e5855facec0b251bacf22cb50b4f1b4229024eec726061474867b59a3186c8de
Deleted: 5bff21ba54097b77dd18c10e13c8f8db53356813e10fa36b2443ee8964674bd7
Deleted: 6071b4945dcf0886af97cc4782a189cef303fcc43a3d9813aa9fef86e1f7a318

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker pull myreg.net:5000/ubuntu
Using default tag: latest
latest: Pulling from ubuntu
6071b4945dcf: Pull complete
5bff21ba5409: Pull complete
e5855facec0b: Pull complete
8251da35e7a7: Pull complete
Digest: sha256:d10032f006615a857120833b8ec8c34a838a5608288a8c7c19e552a1f0b7d463
Status: Downloaded newer image for myreg.net:5000/ubuntu:latest

Cyberlab Vagrant/DockerBoxes/regtest  ∆2.2.0
&amp;gt; docker run -it --rm myreg.net:5000/ubuntu bash
root@d4d5bd2a326d:/# cat /etc/*rele*
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=14.04
DISTRIB_CODENAME=trusty
DISTRIB_DESCRIPTION="Ubuntu 14.04.3 LTS"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 14.04.3 LTS"
VERSION_ID="14.04"
HOME_URL="http://www.ubuntu.com/"
SUPPORT_URL="http://help.ubuntu.com/"
BUG_REPORT_URL="http://bugs.launchpad.net/ubuntu/"
root@d4d5bd2a326d:/# exit
^C</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e0989c811729131-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-2">2</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-4">4</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-6">6</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-8">8</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-10">10</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-12">12</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-14">14</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-16">16</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-18">18</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-20">20</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-22">22</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-24">24</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-26">26</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-28">28</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-30">30</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-32">32</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-34">34</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-36">36</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-38">38</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-40">40</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-42">42</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-44">44</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-46">46</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-48">48</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-50">50</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-52">52</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-54">54</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-56">56</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-58">58</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-60">60</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-62">62</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-64">64</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-66">66</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-68">68</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e0989c811729131-70">70</div><div class="crayon-num" data-line="crayon-591d685e0989c811729131-71">71</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e0989c811729131-1"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">pull </span><span class="crayon-e">ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-2"><span class="crayon-e">Using </span><span class="crayon-st">default</span><span class="crayon-h"> </span><span class="crayon-v">tag</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">latest</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-3"><span class="crayon-v">latest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pulling </span><span class="crayon-e">from </span><span class="crayon-v">library</span><span class="crayon-o">/</span><span class="crayon-i">ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-4"><span class="crayon-cn">6071b4945dcf</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-5"><span class="crayon-cn">5bff21ba5409</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-e">complete</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-6"><span class="crayon-v">e5855facec0b</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-7"><span class="crayon-cn">8251da35e7a7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-e">complete</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-8"><span class="crayon-v">Digest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sha256</span><span class="crayon-o">:</span><span class="crayon-cn">1572e29178048ad9ab72e78edd4decc91a3d8a8dea0ca39817efc7cf2d86c6d7</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-9"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Downloaded </span><span class="crayon-e">newer </span><span class="crayon-e">image </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">latest</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-10">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-11"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-12"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">tag </span><span class="crayon-e">ubuntu </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-14"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-15"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">push </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-16"><span class="crayon-e">The </span><span class="crayon-e">push </span><span class="crayon-e">refers </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">repository</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">len</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-17"><span class="crayon-cn">8251da35e7a7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-e">pushed</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-18"><span class="crayon-v">e5855facec0b</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-i">pushed</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-19"><span class="crayon-cn">5bff21ba5409</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-i">pushed</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-20"><span class="crayon-cn">6071b4945dcf</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-e">pushed</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-21"><span class="crayon-v">latest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">digest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sha256</span><span class="crayon-o">:</span><span class="crayon-e">d10032f006615a857120833b8ec8c34a838a5608288a8c7c19e552a1f0b7d463 </span><span class="crayon-v">size</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7719</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-22">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-23"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-24"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">images</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-25"><span class="crayon-e">REPOSITORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">IMAGE </span><span class="crayon-r">ID</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CREATED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">VIRTUAL </span><span class="crayon-e">SIZE</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-26"><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu&nbsp;&nbsp; </span><span class="crayon-i">latest</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">8251da35e7a7</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">9</span><span class="crayon-h"> </span><span class="crayon-e">days </span><span class="crayon-i">ago</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">188.3</span><span class="crayon-h"> </span><span class="crayon-e">MB</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-27"><span class="crayon-e">ubuntu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">latest</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">8251da35e7a7</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">9</span><span class="crayon-h"> </span><span class="crayon-e">days </span><span class="crayon-i">ago</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">188.3</span><span class="crayon-h"> </span><span class="crayon-e">MB</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-28">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-29"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-30"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">rmi </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-31"><span class="crayon-v">Untagged</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">latest</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-32">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-33"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-34"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">rmi </span><span class="crayon-e">ubuntu</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-35"><span class="crayon-v">Untagged</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">latest</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-36"><span class="crayon-v">Deleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">8251da35e7a79dca688682f6da6148a06d358c6f094020844468a782842c2172</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-37"><span class="crayon-v">Deleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">e5855facec0b251bacf22cb50b4f1b4229024eec726061474867b59a3186c8de</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-38"><span class="crayon-v">Deleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5bff21ba54097b77dd18c10e13c8f8db53356813e10fa36b2443ee8964674bd7</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-39"><span class="crayon-v">Deleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">6071b4945dcf0886af97cc4782a189cef303fcc43a3d9813aa9fef86e1f7a318</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-40">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-41"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-42"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">images</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-43"><span class="crayon-e">REPOSITORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">IMAGE </span><span class="crayon-r">ID</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CREATED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">VIRTUAL </span><span class="crayon-e">SIZE</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-44">&nbsp;</div><div class="crayon-line" id="crayon-591d685e0989c811729131-45"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-46"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-e">pull </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-47"><span class="crayon-e">Using </span><span class="crayon-st">default</span><span class="crayon-h"> </span><span class="crayon-v">tag</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">latest</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-48"><span class="crayon-v">latest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pulling </span><span class="crayon-e">from </span><span class="crayon-i">ubuntu</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-49"><span class="crayon-cn">6071b4945dcf</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-50"><span class="crayon-cn">5bff21ba5409</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-e">complete</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-51"><span class="crayon-v">e5855facec0b</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-52"><span class="crayon-cn">8251da35e7a7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-e">complete</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-53"><span class="crayon-v">Digest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sha256</span><span class="crayon-o">:</span><span class="crayon-e">d10032f006615a857120833b8ec8c34a838a5608288a8c7c19e552a1f0b7d463</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-54"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Downloaded </span><span class="crayon-e">newer </span><span class="crayon-e">image </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">:</span><span class="crayon-e">latest</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-56"><span class="crayon-e">Cyberlab </span><span class="crayon-v">Vagrant</span><span class="crayon-o">/</span><span class="crayon-v">DockerBoxes</span><span class="crayon-o">/</span><span class="crayon-i">regtest</span><span class="crayon-h">&nbsp;&nbsp;</span>∆<span class="crayon-cn">2.2.0</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-57"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">it</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-r">rm</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-e">ubuntu </span><span class="crayon-r">bash</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-58"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d4d5bd2a326d</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-c"># cat /etc/*rele*</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-59"><span class="crayon-v">DISTRIB_ID</span><span class="crayon-o">=</span><span class="crayon-e">Ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-60"><span class="crayon-v">DISTRIB_RELEASE</span><span class="crayon-o">=</span><span class="crayon-cn">14.04</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-61"><span class="crayon-v">DISTRIB_CODENAME</span><span class="crayon-o">=</span><span class="crayon-e">trusty</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-62"><span class="crayon-v">DISTRIB_DESCRIPTION</span><span class="crayon-o">=</span><span class="crayon-s">"Ubuntu 14.04.3 LTS"</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-63"><span class="crayon-r">ID</span><span class="crayon-o">=</span><span class="crayon-e">ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-64"><span class="crayon-v">ID_LIKE</span><span class="crayon-o">=</span><span class="crayon-e">debian</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-65"><span class="crayon-v">PRETTY_NAME</span><span class="crayon-o">=</span><span class="crayon-s">"Ubuntu 14.04.3 LTS"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-66"><span class="crayon-v">VERSION_ID</span><span class="crayon-o">=</span><span class="crayon-s">"14.04"</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-67"><span class="crayon-v">HOME_URL</span><span class="crayon-o">=</span><span class="crayon-s">"http://www.ubuntu.com/"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-68"><span class="crayon-v">SUPPORT_URL</span><span class="crayon-o">=</span><span class="crayon-s">"http://help.ubuntu.com/"</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-69"><span class="crayon-v">BUG_REPORT_URL</span><span class="crayon-o">=</span><span class="crayon-s">"http://bugs.launchpad.net/ubuntu/"</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e0989c811729131-70"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">d4d5bd2a326d</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-c"># exit</span></div><div class="crayon-line" id="crayon-591d685e0989c811729131-71"><span class="crayon-o">^</span><span class="crayon-v">C</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0109 seconds] -->
<p>If you’re curious, your data is in /reg</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098a3562738438" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 285px; overflow: hidden;" wrap="soft">[root@reg01 reg]# find .
.
./docker
./docker/registry
./docker/registry/v2
./docker/registry/v2/repositories
./docker/registry/v2/repositories/ubuntu
./docker/registry/v2/repositories/ubuntu/_uploads
./docker/registry/v2/repositories/ubuntu/_layers
./docker/registry/v2/repositories/ubuntu/_layers/sha256
./docker/registry/v2/repositories/ubuntu/_layers/sha256/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
./docker/registry/v2/repositories/ubuntu/_layers/sha256/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4/link
./docker/registry/v2/repositories/ubuntu/_layers/sha256/1aae2409782a6a016178c96ced8b69e6f80e34fc15496b4352668ad7e3054e03
./docker/registry/v2/repositories/ubuntu/_layers/sha256/1aae2409782a6a016178c96ced8b69e6f80e34fc15496b4352668ad7e3054e03/link
./docker/registry/v2/repositories/ubuntu/_layers/sha256/95ba0485b693bacdab214d623457494a59b46b8f13395a0acec8abdd1f6b51d8
./docker/registry/v2/repositories/ubuntu/_layers/sha256/95ba0485b693bacdab214d623457494a59b46b8f13395a0acec8abdd1f6b51d8/link
./docker/registry/v2/repositories/ubuntu/_layers/sha256/dca023eb4c26ea22b2f3d95f1e81a3ed58eb8e4a0e73661aa4993e138ae3a8ef
./docker/registry/v2/repositories/ubuntu/_layers/sha256/dca023eb4c26ea22b2f3d95f1e81a3ed58eb8e4a0e73661aa4993e138ae3a8ef/link
[...]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098a3562738438-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-2">2</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-4">4</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-6">6</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-8">8</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-10">10</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-12">12</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-14">14</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-16">16</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a3562738438-18">18</div><div class="crayon-num" data-line="crayon-591d685e098a3562738438-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098a3562738438-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">reg01 </span><span class="crayon-v">reg</span><span class="crayon-sy">]</span><span class="crayon-c"># find .</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-2"><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-3"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-i">docker</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-4"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-i">registry</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-5"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-i">v2</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-6"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-i">repositories</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-7"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-i">ubuntu</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-8"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-i">_uploads</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-9"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-i">_layers</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-10"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-i">sha256</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-11"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-i">a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-12"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-v">a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4</span><span class="crayon-o">/</span><span class="crayon-r">link</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-13"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-cn">1aae2409782a6a016178c96ced8b69e6f80e34fc15496b4352668ad7e3054e03</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-14"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-cn">1aae2409782a6a016178c96ced8b69e6f80e34fc15496b4352668ad7e3054e03</span><span class="crayon-o">/</span><span class="crayon-r">link</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-15"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-cn">95ba0485b693bacdab214d623457494a59b46b8f13395a0acec8abdd1f6b51d8</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-16"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-cn">95ba0485b693bacdab214d623457494a59b46b8f13395a0acec8abdd1f6b51d8</span><span class="crayon-o">/</span><span class="crayon-r">link</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-17"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-i">dca023eb4c26ea22b2f3d95f1e81a3ed58eb8e4a0e73661aa4993e138ae3a8ef</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a3562738438-18"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">repositories</span><span class="crayon-o">/</span><span class="crayon-v">ubuntu</span><span class="crayon-o">/</span><span class="crayon-v">_layers</span><span class="crayon-o">/</span><span class="crayon-v">sha256</span><span class="crayon-o">/</span><span class="crayon-v">dca023eb4c26ea22b2f3d95f1e81a3ed58eb8e4a0e73661aa4993e138ae3a8ef</span><span class="crayon-o">/</span><span class="crayon-r">link</span></div><div class="crayon-line" id="crayon-591d685e098a3562738438-19"><span class="crayon-sy">[</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0057 seconds] -->
<p>And voilà!</p>
<p>The problem is: anyone with access to the registry can use it. It’s 
all HTTP. And you will have to configure each docker daemon to use the 
insecure registry.</p>
<p>During our evaluation phase, we can secure it with a <a href="https://docs.docker.com/registry/insecure/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">self signed certificate</a>. A proper certificate should be acquired if you decide to commit to one or more internal registries.</p>
<p>On reg01, we will generated a self signed certificate (as previously linked to) in the /root directory</p>
<p>In /root</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098a9078094886" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 45px; overflow: hidden;" wrap="soft">mkdir -p certs &amp;amp;&amp;amp; openssl req \
  -newkey rsa:4096 -nodes -sha256 -keyout certs/domain.key \
  -x509 -days 365 -out certs/domain.crt</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098a9078094886-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098a9078094886-2">2</div><div class="crayon-num" data-line="crayon-591d685e098a9078094886-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098a9078094886-1"><span class="crayon-r">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-v">certs</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">openssl </span><span class="crayon-i">req</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098a9078094886-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-e">newkey </span><span class="crayon-v">rsa</span><span class="crayon-o">:</span><span class="crayon-cn">4096</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">nodes</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">sha256</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">keyout </span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.key</span><span class="crayon-h"> </span><span class="crayon-sy">\</span></div><div class="crayon-line" id="crayon-591d685e098a9078094886-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-v">x509</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">days</span><span class="crayon-h"> </span><span class="crayon-cn">365</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.crt</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Copy the certificate to the right place on both VMs (renaming 
domain.crt to ca.crt in the process). You should end up on both VMs with</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098ae207076901" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 45px; overflow: hidden;" wrap="soft">[root@reg01 ~]# ls -l /etc/docker/certs.d/myreg.net\:5000/ca.crt
-rw-r--r--. 1 root root 2000 Aug 17 12:36 /etc/docker/certs.d/myreg.net:5000/ca.crt
[root@reg01 ~]#</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098ae207076901-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098ae207076901-2">2</div><div class="crayon-num" data-line="crayon-591d685e098ae207076901-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098ae207076901-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg01</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># ls -l /etc/docker/certs.d/myreg.net\:5000/ca.crt</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098ae207076901-2"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">2000</span><span class="crayon-h"> </span><span class="crayon-i">Aug</span><span class="crayon-h"> </span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-cn">36</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-e">.d</span><span class="crayon-o">/</span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">ca</span><span class="crayon-e">.crt</span></div><div class="crayon-line" id="crayon-591d685e098ae207076901-3"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg01</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>Remove the <code>--insecure-registry myreg.net:5000</code> from the 
docker service, reload the systemd daemon, restart docker on both VMs. 
Yes, you have to do this on ALL docker daemons you will be using! 
Remember the caveats I talked about earlier?</p>
<p>If you haven’t already done it, stop and remove the running registry container on reg01</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098b2429877491" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 15px; overflow: hidden;" wrap="soft">docker stop registry &amp;amp;&amp;amp; docker rm registry</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098b2429877491-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098b2429877491-1"><span class="crayon-e">docker </span><span class="crayon-e">stop </span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">docker </span><span class="crayon-r">rm</span><span class="crayon-h"> </span><span class="crayon-v">registry</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Now start the registry again, but this time, with the certificate and key we created earlier.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098b6606163967" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 29px; overflow: hidden;" wrap="soft">docker
 run -d -p 5000:5000 --restart=always --name registry -v 
/root/certs:/certs -v /reg:/var/lib/registry -e 
REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt -e 
REGISTRY_HTTP_TLS_KEY=/certs/domain.key registry:2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098b6606163967-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098b6606163967-1"><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">restart</span><span class="crayon-o">=</span><span class="crayon-v">always</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">reg</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_HTTP_TLS_CERTIFICATE</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.crt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_HTTP_TLS_KEY</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.key</span><span class="crayon-h"> </span><span class="crayon-v">registry</span><span class="crayon-o">:</span><span class="crayon-cn">2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>Check …</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098bb330894273" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 285px; overflow: hidden;" wrap="soft">&amp;gt; curl -v -k https://myreg.net:5000/v2/_catalog
* Hostname was NOT found in DNS cache
*   Trying 192.168.60.11...
* Connected to myreg.net (192.168.60.11) port 5000 (#0)
* TLS 1.2 connection using TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
* Server certificate: myreg.net
&amp;gt; GET /v2/_catalog HTTP/1.1
&amp;gt; User-Agent: curl/7.37.1
&amp;gt; Host: myreg.net:5000
&amp;gt; Accept: */*
&amp;gt;
&amp;lt; HTTP/1.1 200 OK
&amp;lt; Content-Type: application/json; charset=utf-8
&amp;lt; Docker-Distribution-Api-Version: registry/2.0
&amp;lt; Date: Mon, 17 Aug 2015 13:05:17 GMT
&amp;lt; Content-Length: 38
&amp;lt;
{"repositories":["ubuntu"]}
* Connection #0 to host myreg.net left intact</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098bb330894273-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-2">2</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-4">4</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-6">6</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-8">8</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-10">10</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-12">12</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-14">14</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-16">16</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098bb330894273-18">18</div><div class="crayon-num" data-line="crayon-591d685e098bb330894273-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098bb330894273-1"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">k</span><span class="crayon-h"> </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-o">/</span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-v">_catalog</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-2"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Hostname </span><span class="crayon-e">was </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-e">found </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">DNS </span><span class="crayon-v">cache</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-3"><span class="crayon-o">*</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Trying</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.60.11...</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-4"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Connected </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">192.168.60.11</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">port</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-c">#0)</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-5"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">TLS</span><span class="crayon-h"> </span><span class="crayon-cn">1.2</span><span class="crayon-h"> </span><span class="crayon-e">connection </span><span class="crayon-e">using </span><span class="crayon-v">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-6"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">Server </span><span class="crayon-v">certificate</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-7"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">GET</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">v2</span><span class="crayon-o">/</span><span class="crayon-e">_catalog </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-8"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">User</span><span class="crayon-o">-</span><span class="crayon-v">Agent</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">curl</span><span class="crayon-o">/</span><span class="crayon-cn">7.37.1</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-9"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Host</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-10"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Accept</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-11"><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-12"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">HTTP</span><span class="crayon-o">/</span><span class="crayon-cn">1.1</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-h"> </span><span class="crayon-v">OK</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-13"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-r">Type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">application</span><span class="crayon-o">/</span><span class="crayon-v">json</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-v">utf</span><span class="crayon-o">-</span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-14"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Docker</span><span class="crayon-o">-</span><span class="crayon-v">Distribution</span><span class="crayon-o">-</span><span class="crayon-v">Api</span><span class="crayon-o">-</span><span class="crayon-v">Version</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">registry</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-15"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Mon</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-i">Aug</span><span class="crayon-h"> </span><span class="crayon-cn">2015</span><span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-o">:</span><span class="crayon-cn">05</span><span class="crayon-o">:</span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-v">GMT</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-16"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">Content</span><span class="crayon-o">-</span><span class="crayon-v">Length</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">38</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-17"><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098bb330894273-18"><span class="crayon-sy">{</span><span class="crayon-s">"repositories"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"ubuntu"</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-591d685e098bb330894273-19"><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">Connection</span><span class="crayon-h"> </span><span class="crayon-c">#0 to host myreg.net left intact</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0047 seconds] -->
<p>My first try at a pull resulted in an error, subsequent push/pull worked without an issue though. Doh?!</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098c0739440007" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 240px; overflow: hidden;" wrap="soft">[root@reg02 ~]# docker pull busybox
Using default tag: latest
latest: Pulling from library/busybox
cf2616975b4a: Pull complete
6ce2e90b0bc7: Pull complete
8c2e06607696: Pull complete
Digest: sha256:df9e13f36d2d5b30c16bfbf2a6110c45ebed0bfa1ea42d357651bc6c736d5322
Status: Downloaded newer image for busybox:latest
[root@reg02 ~]#
[root@reg02 ~]# docker tag busybox myreg.net:5000/busybox
[root@reg02 ~]# docker push myreg.net:5000/busybox
The push refers to a repository [myreg.net:5000/busybox] (len: 1)
8c2e06607696: Image successfully pushed
6ce2e90b0bc7: Image successfully pushed
cf2616975b4a: Image already exists
latest: digest: sha256:5b60291f22f85b547517f39e33bbafd1a0b6c86fccb212f29fd22e854a9cac7a size: 5052</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -25px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098c0739440007-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-2">2</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-4">4</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-6">6</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-8">8</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-10">10</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-12">12</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-14">14</div><div class="crayon-num" data-line="crayon-591d685e098c0739440007-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c0739440007-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098c0739440007-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker pull busybox</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-2"><span class="crayon-e">Using </span><span class="crayon-st">default</span><span class="crayon-h"> </span><span class="crayon-v">tag</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">latest</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-3"><span class="crayon-v">latest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pulling </span><span class="crayon-e">from </span><span class="crayon-v">library</span><span class="crayon-o">/</span><span class="crayon-e">busybox</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-4"><span class="crayon-v">cf2616975b4a</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-5"><span class="crayon-cn">6ce2e90b0bc7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-i">complete</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-6"><span class="crayon-cn">8c2e06607696</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Pull </span><span class="crayon-e">complete</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-7"><span class="crayon-v">Digest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sha256</span><span class="crayon-o">:</span><span class="crayon-e">df9e13f36d2d5b30c16bfbf2a6110c45ebed0bfa1ea42d357651bc6c736d5322</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-8"><span class="crayon-v">Status</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Downloaded </span><span class="crayon-e">newer </span><span class="crayon-e">image </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">busybox</span><span class="crayon-o">:</span><span class="crayon-i">latest</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-9"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c">#</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-10"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker tag busybox myreg.net:5000/busybox</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-11"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker push myreg.net:5000/busybox</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-12"><span class="crayon-e">The </span><span class="crayon-e">push </span><span class="crayon-e">refers </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">repository</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">busybox</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">len</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-13"><span class="crayon-cn">8c2e06607696</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-i">pushed</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-14"><span class="crayon-cn">6ce2e90b0bc7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">successfully </span><span class="crayon-e">pushed</span></div><div class="crayon-line" id="crayon-591d685e098c0739440007-15"><span class="crayon-v">cf2616975b4a</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Image </span><span class="crayon-e">already </span><span class="crayon-e">exists</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c0739440007-16"><span class="crayon-v">latest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">digest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sha256</span><span class="crayon-o">:</span><span class="crayon-cn">5b60291f22f85b547517f39e33bbafd1a0b6c86fccb212f29fd22e854a9cac7a</span><span class="crayon-h"> </span><span class="crayon-v">size</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">5052</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p>Our catalog should have one more image in it</p>
<p><img src="Private-Registry-htpasswd_files/docker-registry-check.png" alt="docker-registry-check" height="50%" width="50%"></p>
<p>Now that we have secured our registry, we can move on to the authentication part.</p>
<p>Before we do, we’ll trust the certificate on each VM at the OS level. In our last curl command we used the <code>-k</code>
 flag to allow the connection with our self signed certificate. Without 
it curl tells you the certificate cannot be verified, blah blah … This 
will come back and bite us, so let’s get rid of it.</p>
<p>On both VMs</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098c6577370283" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 30px; overflow: hidden;" wrap="soft">cp certs/domain.crt /etc/pki/ca-trust/source/anchors/myreg.net.crt
update-ca-trust</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098c6577370283-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098c6577370283-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098c6577370283-1"><span class="crayon-r">cp</span><span class="crayon-h"> </span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.crt</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">pki</span><span class="crayon-o">/</span><span class="crayon-v">ca</span><span class="crayon-o">-</span><span class="crayon-v">trust</span><span class="crayon-o">/</span><span class="crayon-v">source</span><span class="crayon-o">/</span><span class="crayon-v">anchors</span><span class="crayon-o">/</span><span class="crayon-v">myreg</span><span class="crayon-e">.net</span><span class="crayon-e">.crt</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098c6577370283-2"><span class="crayon-v">update</span><span class="crayon-o">-</span><span class="crayon-v">ca</span><span class="crayon-o">-</span><span class="crayon-v">trust</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Stop and restart the docker service on each VMs. (Yes, you’ll have to
 do this everywhere your docker daemon is supposed to have access to the
 registry). BTW, if you issue a curl command without the <code>-k</code> flag now, it’ll work just fine.</p>
<p>Next, authentication. Basic auth is built in and uses the Apache 
htpasswd tool. It’s very similar to your classic web server basic 
authentication (only bcrypt encryption is allowed here).</p>
<p>We’ll create a fake user/password. Use whatever you want, I’m going to go with bob/bob2015 because I’m very creative, … well …</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098ca545941876" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 30px; overflow: hidden;" wrap="soft">mkdir auth
docker run -it --entrypoint htpasswd -v $PWD/auth:/auth -w /auth registry:2 -Bbc /auth/htpasswd bob bob2015</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098ca545941876-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098ca545941876-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098ca545941876-1"><span class="crayon-r">mkdir</span><span class="crayon-h"> </span><span class="crayon-e">auth</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098ca545941876-2"><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">it</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">entrypoint </span><span class="crayon-v">htpasswd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">$PWD</span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">w</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">auth </span><span class="crayon-v">registry</span><span class="crayon-o">:</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">Bbc</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-o">/</span><span class="crayon-e">htpasswd </span><span class="crayon-e">bob </span><span class="crayon-v">bob2015</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>Stop and remove the registry container if it’s still running, we’ll 
restart it with a few more environment variables to take authentication 
into account.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098cf980353516" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 29px; overflow: hidden;" wrap="soft">docker
 run -d -p 5000:5000 --restart=always --name registry -v 
/root/certs:/certs -v /root/auth:/auth -v /reg:/var/lib/registry -e 
REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt -e 
REGISTRY_HTTP_TLS_KEY=/certs/domain.key -e 
"REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm" -e 
REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd -e REGISTRY_AUTH=htpasswd 
registry:2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098cf980353516-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098cf980353516-1"><span class="crayon-e">docker </span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">restart</span><span class="crayon-o">=</span><span class="crayon-v">always</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">name </span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">v</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">reg</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_HTTP_TLS_CERTIFICATE</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.crt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_HTTP_TLS_KEY</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">certs</span><span class="crayon-o">/</span><span class="crayon-v">domain</span><span class="crayon-e">.key</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-s">"REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_AUTH_HTPASSWD_PATH</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">auth</span><span class="crayon-o">/</span><span class="crayon-v">htpasswd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-v">REGISTRY_AUTH</span><span class="crayon-o">=</span><span class="crayon-e">htpasswd </span><span class="crayon-v">registry</span><span class="crayon-o">:</span><span class="crayon-cn">2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>We can verify the registry is not open to all anymore</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098d3683336815" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 89px; overflow: hidden;" wrap="soft">[root@reg-02
 ~]# curl https://myreg.net:5000/v2/_catalog
{"errors":[{"code":"UNAUTHORIZED","message":"access to the requested 
resource is not 
authorized","detail":[{"Type":"registry","Name":"catalog","Action":"*"}]}]}
[root@reg-02
 ~]# curl https://bob:bob2015@myreg.net:5000/v2/_catalog
{"repositories":["busybox","httpd","ubuntu"]}
[root@reg-02 ~]#</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098d3683336815-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098d3683336815-2">2</div><div class="crayon-num" data-line="crayon-591d685e098d3683336815-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098d3683336815-4">4</div><div class="crayon-num" data-line="crayon-591d685e098d3683336815-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098d3683336815-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># curl https://myreg.net:5000/v2/_catalog</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098d3683336815-2"><span class="crayon-sy">{</span><span class="crayon-s">"errors"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">{</span><span class="crayon-s">"code"</span><span class="crayon-o">:</span><span class="crayon-s">"UNAUTHORIZED"</span><span class="crayon-sy">,</span><span class="crayon-s">"message"</span><span class="crayon-o">:</span><span class="crayon-s">"access to the requested resource is not authorized"</span><span class="crayon-sy">,</span><span class="crayon-s">"detail"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">{</span><span class="crayon-s">"Type"</span><span class="crayon-o">:</span><span class="crayon-s">"registry"</span><span class="crayon-sy">,</span><span class="crayon-s">"Name"</span><span class="crayon-o">:</span><span class="crayon-s">"catalog"</span><span class="crayon-sy">,</span><span class="crayon-s">"Action"</span><span class="crayon-o">:</span><span class="crayon-s">"*"</span><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-591d685e098d3683336815-3"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># curl https://bob:bob2015@myreg.net:5000/v2/_catalog</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098d3683336815-4"><span class="crayon-sy">{</span><span class="crayon-s">"repositories"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"busybox"</span><span class="crayon-sy">,</span><span class="crayon-s">"httpd"</span><span class="crayon-sy">,</span><span class="crayon-s">"ubuntu"</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-591d685e098d3683336815-5"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>LGTM! Time to log in</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098d8568918815" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 105px; overflow: hidden;" wrap="soft">root@reg-02 ~]# docker login myreg.net:5000
Username: bob
Password:
Email: bob@gmail.com
WARNING: login credentials saved in /root/.docker/config.json
Login Succeeded
[root@reg-02 ~]#</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098d8568918815-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098d8568918815-2">2</div><div class="crayon-num" data-line="crayon-591d685e098d8568918815-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098d8568918815-4">4</div><div class="crayon-num" data-line="crayon-591d685e098d8568918815-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098d8568918815-6">6</div><div class="crayon-num" data-line="crayon-591d685e098d8568918815-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098d8568918815-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker login myreg.net:5000</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098d8568918815-2"><span class="crayon-v">Username</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">bob</span></div><div class="crayon-line" id="crayon-591d685e098d8568918815-3"><span class="crayon-v">Password</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098d8568918815-4"><span class="crayon-v">Email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">bob</span><span class="crayon-sy">@</span><span class="crayon-v">gmail</span><span class="crayon-e">.com</span></div><div class="crayon-line" id="crayon-591d685e098d8568918815-5"><span class="crayon-v">WARNING</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">login </span><span class="crayon-e">credentials </span><span class="crayon-e">saved </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-e">.docker</span><span class="crayon-o">/</span><span class="crayon-v">config</span><span class="crayon-e">.json</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098d8568918815-6"><span class="crayon-e">Login </span><span class="crayon-i">Succeeded</span></div><div class="crayon-line" id="crayon-591d685e098d8568918815-7"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">02</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>Done! New users can be added any time but you’ll need to restart the registry (the caveats, …, you know)</p>
<p>All good but that looooong command line to start the registry needs to go. Docker-compose to the rescue.</p>
<p>On reg01</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098dd929375112" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; z-index: 4;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 44px; overflow: hidden;" wrap="soft">curl
 -L 
https://github.com/docker/compose/releases/download/1.4.0/docker-compose-`uname
 -s`-`uname -m` &amp;gt; /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098dd929375112-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098dd929375112-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098dd929375112-1"><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">L</span><span class="crayon-h"> </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-o">/</span><span class="crayon-v">github</span><span class="crayon-e">.com</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-v">compose</span><span class="crayon-o">/</span><span class="crayon-v">releases</span><span class="crayon-o">/</span><span class="crayon-v">download</span><span class="crayon-o">/</span><span class="crayon-cn">1.4.0</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">-</span><span class="crayon-v">compose</span><span class="crayon-o">-</span><span class="crayon-sy">`</span><span class="crayon-r">uname</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-sy">`</span><span class="crayon-o">-</span><span class="crayon-sy">`</span><span class="crayon-r">uname</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">m</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">-</span><span class="crayon-e">compose</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098dd929375112-2"><span class="crayon-r">chmod</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">-</span><span class="crayon-v">compose</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>Here’s our docker-compose.yml file</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098e1294555211" class="crayon-syntax crayon-theme-solarized-light crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: 0px; display: block; position: absolute; z-index: 2;"><span class="crayon-title">docker-compose.yml</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">YAML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important; margin-top: -18px; display: none;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: auto;" wrap="soft">registry:
  restart: always
  image: registry:2
  ports:
    - 5000:5000
  environment:
    REGISTRY_HTTP_TLS_CERTIFICATE: /certs/domain.crt
    REGISTRY_HTTP_TLS_KEY: /certs/domain.key
    REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY: /var/lib/registry
    REGISTRY_AUTH_HTPASSWD_PATH: /auth/htpasswd
    REGISTRY_AUTH_HTPASSWD_REALM: Registry Realm
    REGISTRY_AUTH: htpasswd
  volumes:
    - /reg:/var/lib/registry
    - /root/certs:/certs
    - /root/auth:/auth</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: auto;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098e1294555211-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-2">2</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-4">4</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-6">6</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-8">8</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-10">10</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-12">12</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-14">14</div><div class="crayon-num" data-line="crayon-591d685e098e1294555211-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e1294555211-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098e1294555211-1"><span class="crayon-s ">registry</span><span class="">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s ">restart</span><span class="">: always</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s ">image</span><span class="">: registry</span><span class="">:2</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s ">ports</span><span class="">:</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">- 5000</span><span class="">:5000</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s ">environment</span><span class="">:</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_HTTP_TLS_CERTIFICATE</span><span class="">: /certs/domain.crt</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_HTTP_TLS_KEY</span><span class="">: /certs/domain.key</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY</span><span class="">: /var/lib/registry</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_AUTH_HTPASSWD_PATH</span><span class="">: /auth/htpasswd</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_AUTH_HTPASSWD_REALM</span><span class="">: Registry Realm</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s ">REGISTRY_AUTH</span><span class="">: htpasswd</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s ">volumes</span><span class="">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span class="crayon-h"> </span>/<span class="crayon-s ">reg</span><span class="">:/var/lib/registry</span></div><div class="crayon-line" id="crayon-591d685e098e1294555211-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span class="crayon-h"> </span>/root/<span class="crayon-s ">certs</span><span class="">:/certs</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e1294555211-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span class="crayon-h"> </span>/root/<span class="crayon-s ">auth</span><span class="">:/auth</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>Starting up the registry is a lot simpler now (you can skipp the -p reg01 if you prefer).</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-591d685e098e6096144738" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Shell</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button crayon-pressed" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick show-plain-default" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 1; opacity: 1; height: 90px; overflow: hidden;" wrap="soft">[root@reg-01 ~]# docker-compose -p reg01 up -d
Creating reg01_registry_1...
[root@reg-01 ~]# docker-compose -p reg01 ps
      Name                    Command               State           Ports
----------------------------------------------------------------------------------
reg01_registry_1   /bin/registry /etc/docker/ ...   Up      0.0.0.0:5000-&amp;gt;5000/tcp</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 0; opacity: 0; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -18px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-591d685e098e6096144738-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e6096144738-2">2</div><div class="crayon-num" data-line="crayon-591d685e098e6096144738-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e6096144738-4">4</div><div class="crayon-num" data-line="crayon-591d685e098e6096144738-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-591d685e098e6096144738-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-591d685e098e6096144738-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">01</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker-compose -p reg01 up -d</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e6096144738-2"><span class="crayon-e">Creating </span><span class="crayon-v">reg01_registry_1</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-591d685e098e6096144738-3"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">reg</span><span class="crayon-o">-</span><span class="crayon-cn">01</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-c"># docker-compose -p reg01 ps</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e6096144738-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">Command</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Ports</span></div><div class="crayon-line" id="crayon-591d685e098e6096144738-5"><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span></div><div class="crayon-line crayon-striped-line" id="crayon-591d685e098e6096144738-6"><span class="crayon-v">reg01_registry_1</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">registry</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">docker</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Up</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0.0.0.0</span><span class="crayon-o">:</span><span class="crayon-cn">5000</span><span class="crayon-o">-</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-cn">5000</span><span class="crayon-o">/</span><span class="crayon-v">tcp</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>Interacting with the registry is done via the APIs. We’ve already 
requested the list of repositories a few times. The complete API 
documentation is <a href="https://docs.docker.com/registry/spec/api/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">here</a>
 (Implementation incomplete). At the time of this writing, there’s no 
web UI supporting registry v2. The two main Web UIs supporting registry 
V1 are on the fence, but not there yet.</p>
<p>You can dig deeper in the registry’s <a href="https://github.com/docker/distribution/blob/master/docs/configuration.md" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">configurations</a> to start customising it.</p>
<p>Tip: if 443 is not yet taken on your docker host running the 
registry, change your docker-compose.yml file to expose 443:5000 and 
you’ll be able to tag you images without the port information.</p>
<p>Word of caution: deleting images from the registry is not supported yet (20150818): <a href="https://docs.docker.com/registry/spec/api/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">#422</a>.
 If you build and push a lot of images to your private registry (auto 
building on your CI platform for example), this could become and issue. 
The “work around” for now is to monitor used/free space and regularly 
schedule a complete wipe off of the data or plan ahead (calculate your 
average usage and allocate enough storage capacity to last a few 
months).</p>
<p>Nothing’s holding you back from creating your own docker registry now.</p>
<p>Next, we’ll see how to use apache httpd web server with basic authentication as a reverse proxy to our registry.</p>
<div class="rp4wp-related-posts">
<h3>Related Posts</h3>
<ul>
<li><div class="rp4wp-related-post-image">
<a href="http://blog.agilepartner.net/private-docker-registry-behind-an-httpd-reverse-proxy/" data-wpel-link="internal"><img src="Private-Registry-htpasswd_files/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Docker" srcset="http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-150x150.png 150w, http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-60x60.png 60w" sizes="(max-width: 150px) 100vw, 150px" height="150" width="150"></a></div>
<div class="rp4wp-related-post-content">
<a href="http://blog.agilepartner.net/private-docker-registry-behind-an-httpd-reverse-proxy/" data-wpel-link="internal">Private docker registry behind an httpd reverse proxy</a><p>&nbsp; &nbsp; Last time we used the registry, we ended up securing it with SSL encryption and basic authentication. Docker…</p></div>
</li>
<li><div class="rp4wp-related-post-image">
<a href="http://blog.agilepartner.net/private-docker-registry-configuration/" data-wpel-link="internal"><img src="Private-Registry-htpasswd_files/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Docker" srcset="http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-150x150.png 150w, http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-60x60.png 60w" sizes="(max-width: 150px) 100vw, 150px" height="150" width="150"></a></div>
<div class="rp4wp-related-post-content">
<a href="http://blog.agilepartner.net/private-docker-registry-configuration/" data-wpel-link="internal">Private Docker registry configuration</a><p>&nbsp; &nbsp; In the previous pots, we used a private docker registry with SSL and authentication and transitioned to a…</p></div>
</li>
<li><div class="rp4wp-related-post-image">
<a href="http://blog.agilepartner.net/docker-swarm/" data-wpel-link="internal"><img src="Private-Registry-htpasswd_files/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Docker" srcset="http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-150x150.png 150w, http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1-60x60.png 60w" sizes="(max-width: 150px) 100vw, 150px" height="150" width="150"></a></div>
<div class="rp4wp-related-post-content">
<a href="http://blog.agilepartner.net/docker-swarm/" data-wpel-link="internal">A quick overview of Docker Swarm</a><p>&nbsp; &nbsp; Docker Swarm is native clustering for Docker. It's strength: the API you already know and use every day…</p></div>
</li>
</ul>
</div>
			</div>
		</div>
	</div>
	<div class="qodef-post-info-bottom">
		<div class="qodef-single-tags-holder">
	<h6 class="qodef-single-tags-title">Tags:</h6>
	<div class="qodef-tags">
		<a href="http://blog.agilepartner.net/tag/docker/" rel="tag" data-wpel-link="internal">Docker</a>,<a href="http://blog.agilepartner.net/tag/vagrant/" rel="tag" data-wpel-link="internal">vagrant</a>	</div>
</div><div class="qodef-blog-share">
	<div class="qodef-social-share-holder qodef-list">
	<ul>
		<li class="qodef-facebook-share">
	<a class="qodef-share-link" href="#" onclick="window.open('http://www.facebook.com/sharer.php?s=100&amp;p[title]=Private+Docker+Registry&amp;p[url]=http%3A%2F%2Fblog.agilepartner.net%2Fprivate-docker-registry%2F&amp;p[images][0]=http://blog.agilepartner.net/wp-content/uploads/2015/08/687474703a2f2f626c6f672e70687573696f6e2e6e6c2f77702d636f6e74656e742f75706c6f6164732f323031332f31312f646f636b65722e706e67-1.png&amp;p[summary]=%26nbsp%3B+%26nbsp%3B+Docker+Inc+has+open+sourced+their+registry+for+us+to+run+on+premise.+It+comes+without+a+nice+shiny+GUI+and+will+require+API+calls+to+do+common+things+like+listing+the+images+in+the+registry+or+delete+an+image+from+it.+It...', 'sharer', 'toolbar=0,status=0,width=620,height=280');" data-wpel-link="internal">
					<span class="qodef-social-network-icon social_facebook"></span>
			</a>
</li><li class="qodef-twitter-share">
	<a class="qodef-share-link" href="#" onclick="window.open('http://twitter.com/home?status=%26nbsp%3B+%26nbsp%3B+Docker+Inc+has+open+sourced+their+registry+for+us+to+run+on+premise.+It+comes+without+a+nice+shiny+GUI+http://blog.agilepartner.net/private-docker-registry/', 'popupwindow', 'scrollbars=yes,width=800,height=400');" data-wpel-link="internal">
					<span class="qodef-social-network-icon social_twitter"></span>
			</a>
</li><li class="qodef-google_plus-share">
	<a class="qodef-share-link" href="#" onclick="popUp=window.open('https://plus.google.com/share?url=http%3A%2F%2Fblog.agilepartner.net%2Fprivate-docker-registry%2F', 'popupwindow', 'scrollbars=yes,width=800,height=400');popUp.focus();return false;" data-wpel-link="internal">
					<span class="qodef-social-network-icon social_googleplus"></span>
			</a>
</li><li class="qodef-linkedin-share">
	<a class="qodef-share-link" href="#" onclick="popUp=window.open('http://linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fblog.agilepartner.net%2Fprivate-docker-registry%2F&amp;title=Private+Docker+Registry', 'popupwindow', 'scrollbars=yes,width=800,height=400');popUp.focus();return false;" data-wpel-link="internal">
					<span class="qodef-social-network-icon social_linkedin"></span>
			</a>
</li>	</ul>
</div></div>	</div>
</article>		<div class="qodef-blog-single-navigation">
		<div class="qodef-blog-single-navigation-inner">
							<div class="qodef-blog-single-prev">
					<a href="http://blog.agilepartner.net/sway-loutil-de-presentation-par-microsoft/" rel="prev" data-wpel-link="internal">&lt;</a>				</div> <!-- close div.blog_prev -->
										<div class="qodef-blog-single-next">
					<a href="http://blog.agilepartner.net/state-of-devops-in-luxembourg/" rel="next" data-wpel-link="internal">&gt;</a>				</div>
					</div>
	</div>
	<div class="qodef-author-description">
		<div class="qodef-author-description-inner">
			<div class="qodef-author-description-image">
				<img alt="" src="Private-Registry-htpasswd_files/89d52bffc569b1d648ee4b90186d2497.jpeg" srcset="http://2.gravatar.com/avatar/89d52bffc569b1d648ee4b90186d2497?s=256&amp;d=mm&amp;r=g 2x" class="avatar avatar-128 photo" height="128" width="128">			</div>
			<div class="qodef-author-description-text-holder">
				<h5 class="qodef-author-name">
					Olivier Robert				</h5>
															</div>
		</div>
	</div>
<div class="qodef-comment-holder clearfix" id="comments">
	<div class="qodef-comment-number">
		<div class="qodef-comment-number-inner">
			<h6>No Comments</h6>
		</div>
	</div>
<div class="qodef-comments">
</div></div>
 <div class="qodef-comment-form">
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Post a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://blog.agilepartner.net/private-docker-registry/#respond" style="display:none;" data-wpel-link="internal">Cancel Reply</a></small></h3>			<form action="http://blog.agilepartner.net/wp-comments-post.php" method="post" id="commentform" class="comment-form anti-spam-form-processed">
				<span class="qodef-input-title">Comment</span><textarea id="comment" placeholder="Write your comment here..." name="comment" cols="45" rows="8" aria-required="true"></textarea><div class="qodef-three-columns clearfix"><div class="qodef-three-columns-inner"><div class="qodef-column"><div class="qodef-column-inner"><span class="qodef-input-title">Name</span><input id="author" name="author" placeholder="Your full name" aria-required="true" type="text"></div></div>
<div class="qodef-column"><div class="qodef-column-inner"><span class="qodef-input-title">Email</span><input id="email" name="email" placeholder="E-mail address" aria-required="true" type="text"></div></div>
<div class="qodef-column"><div class="qodef-column-inner"><span class="qodef-input-title">Website</span><input id="url" name="url" placeholder="Website" type="text"></div></div></div></div>
<p class="form-submit"><input name="submit" id="submit_comment" class="submit" value="Send message" type="submit"> <input name="comment_post_ID" value="2192" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p>		<p class="antispam-group antispam-group-q" style="clear: both; display: none;">
			<label>Current ye@r <span class="required">*</span></label>
			<input name="antspm-a" class="antispam-control antispam-control-a" value="2017" type="hidden">
			<input name="antspm-q" class="antispam-control antispam-control-q" value="2017" autocomplete="off" type="text">
		</p>
		<p class="antispam-group antispam-group-e" style="display: none;">
			<label>Leave this field empty</label>
			<input name="antspm-e-email-url-website" class="antispam-control antispam-control-e" autocomplete="off" type="text">
		</p>
			<input name="antspm-d" class="antispam-control antispam-control-d" value="2017" type="hidden"></form>
			</div><!-- #respond -->
	</div>
								
							


	</div>
		</div>
			</div>
</div> <!-- close div.content_inner -->
</div>  <!-- close div.content -->

<footer>
	<div class="qodef-footer-inner clearfix">

		
<div class="qodef-footer-top-holder">
	<div class="qodef-footer-top  qodef-footer-top-full">
		<div class="qodef-four-columns clearfix">
	<div class="qodef-four-columns-inner">
		<div class="qodef-column" style="min-height: 703px;">
			<div class="qodef-column-inner">
				<div id="qodef_twitter_widget-3" class="widget qodef-footer-column-1 widget_qodef_twitter_widget"><h4 class="qodef-footer-widget-title">Follow us on Twitter !</h4>                    <ul class="qodef_twitter_widget">
                                                    <li>
                                <div class="tweet_icon_holder">
                                    <span class="social_twitter"></span>
                                </div>
                                <div class="tweet_content_holder">
                                    <div class="qodef_tweet_text">
                                        Developing Microservices - Node, React, and Docker by <a target="_blank" href="http://twitter.com/MikeHerman" data-wpel-link="external" rel="follow external noopener noreferrer">@MikeHerman</a>  <a target="_blank" href="https://t.co/5TIRZ2Q4xe" data-wpel-link="external" rel="follow external noopener noreferrer">https://t.co/5TIRZ2Q4xe</a>                                    </div>
                                                                            <div class="qodef_tweet_time">

                                            <a target="_blank" href="https://twitter.com/AgilePartner/statuses/865129891699752960" data-wpel-link="external" rel="follow external noopener noreferrer">
                                                2 hours ago                                            </a>
                                        </div>
                                                                    </div>
                            </li>
                                                    <li>
                                <div class="tweet_icon_holder">
                                    <span class="social_twitter"></span>
                                </div>
                                <div class="tweet_content_holder">
                                    <div class="qodef_tweet_text">
                                        Using Docker Compose for NodeJS Development by <a target="_blank" href="http://twitter.com/kellyjandrew" data-wpel-link="external" rel="follow external noopener noreferrer">@kellyjandrew</a> <a target="_blank" href="https://t.co/KzOtzFmark" data-wpel-link="external" rel="follow external noopener noreferrer">https://t.co/KzOtzFmark</a>                                    </div>
                                                                            <div class="qodef_tweet_time">

                                            <a target="_blank" href="https://twitter.com/AgilePartner/statuses/865119786342264833" data-wpel-link="external" rel="follow external noopener noreferrer">
                                                3 hours ago                                            </a>
                                        </div>
                                                                    </div>
                            </li>
                                                    <li>
                                <div class="tweet_icon_holder">
                                    <span class="social_twitter"></span>
                                </div>
                                <div class="tweet_content_holder">
                                    <div class="qodef_tweet_text">
                                        RT <a target="_blank" href="http://twitter.com/ITnation" data-wpel-link="external" rel="follow external noopener noreferrer">@ITnation</a>: <a target="_blank" href="http://twitter.com/AgilePartner" data-wpel-link="external" rel="follow external noopener noreferrer">@AgilePartner</a> et <a target="_blank" href="http://twitter.com/yoseihana" data-wpel-link="external" rel="follow external noopener noreferrer">@yoseihana</a> analysent <a target="_blank" href="http://twitter.com/search?q=WannaCry" data-wpel-link="external" rel="follow external noopener noreferrer">#WannaCry</a> . <a target="_blank" href="http://twitter.com/search?q=ConseilsPourLesDevs" data-wpel-link="external" rel="follow external noopener noreferrer">#ConseilsPourLesDevs</a> <a target="_blank" href="https://t.co/TDe7PFBInn" data-wpel-link="external" rel="follow external noopener noreferrer">https://t.co/TDe7PFBInn</a>                                    </div>
                                                                            <div class="qodef_tweet_time">

                                            <a target="_blank" href="https://twitter.com/AgilePartner/statuses/864861539555213313" data-wpel-link="external" rel="follow external noopener noreferrer">
                                                20 hours ago                                            </a>
                                        </div>
                                                                    </div>
                            </li>
                                            </ul>
                </div>			</div>
		</div>
		<div class="qodef-column" style="min-height: 703px;">
			<div class="qodef-column-inner">
				<div id="text-3" class="widget qodef-footer-column-2 widget_text"><h4 class="qodef-footer-widget-title">Meet us!</h4>			<div class="textwidget"><p>Agile Partner S.A.<br>
Z.A.I Bourmicht<br>
20A rue du Puits Romain<br>
L-8070 Betrange<br>
Luxembourg</p>
</div>
		</div>			</div>
		</div>
		<div class="qodef-column" style="min-height: 703px;">
			<div class="qodef-column-inner">
				<div id="nav_menu-3" class="widget qodef-footer-column-3 widget_nav_menu"><h4 class="qodef-footer-widget-title">Menu</h4><div class="menu-menu-footer-container"><ul id="menu-menu-footer" class="menu"><li id="menu-item-4368" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4368"><a href="http://www.agilepartner.net/" onclick="__gaTracker('send', 'event', 'outbound-menu', 'http://www.agilepartner.net/', 'Agile Partner website');" title="Agile Partner website" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Agile Partner website</a></li>
<li id="menu-item-4369" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4369"><a href="http://devops.agilepartner.net/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">DevOps</a></li>
<li id="menu-item-4372" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4372"><a href="http://www.agilepartner.net/releases/" onclick="__gaTracker('send', 'event', 'outbound-menu', 'http://www.agilepartner.net/releases/', 'News');" title="News" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">News</a></li>
<li id="menu-item-4370" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4370"><a href="http://www.agilepartner.net/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Jobs</a></li>
<li id="menu-item-4371" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4371"><a href="http://www.agilepartner.net/contact/" data-wpel-link="external" target="_blank" rel="follow external noopener noreferrer">Contact</a></li>
</ul></div></div>			</div>
		</div>
		<div class="qodef-column" style="min-height: 703px;">
			<div class="qodef-column-inner">
				<div id="categories-7" class="widget qodef-footer-column-4 widget_categories"><h4 class="qodef-footer-widget-title">Categories</h4>		<ul>
	<li class="cat-item cat-item-1"><a href="http://blog.agilepartner.net/agile-partner/" title="All Agile Partner related information" data-wpel-link="internal">Agile Partner</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.agilepartner.net/agility/" title="All about agility" data-wpel-link="internal">Agility</a>
</li>
	<li class="cat-item cat-item-291"><a href="http://blog.agilepartner.net/calendrier-avent/" title="Calendrier de l'Avent DevOps" data-wpel-link="internal">Calendrier Avent</a>
</li>
	<li class="cat-item cat-item-33"><a href="http://blog.agilepartner.net/coding/" title="All information about coding" data-wpel-link="internal">Coding</a>
</li>
	<li class="cat-item cat-item-41"><a href="http://blog.agilepartner.net/devops/" title="All DevOps related article" data-wpel-link="internal">DevOps</a>
</li>
	<li class="cat-item cat-item-57"><a href="http://blog.agilepartner.net/events/" title="All information about futurs and past events." data-wpel-link="internal">Events</a>
</li>
	<li class="cat-item cat-item-196"><a href="http://blog.agilepartner.net/frontend/" title="Alla bout JS, CSS, HTML..." data-wpel-link="internal">Frontend</a>
</li>
	<li class="cat-item cat-item-325"><a href="http://blog.agilepartner.net/java/" title="All article about Java" data-wpel-link="internal">Java</a>
</li>
	<li class="cat-item cat-item-308"><a href="http://blog.agilepartner.net/linux/" title="Everything about Linux" data-wpel-link="internal">Linux</a>
</li>
	<li class="cat-item cat-item-34"><a href="http://blog.agilepartner.net/microsoft/" title="Alla bout Microsoft technologies: Dynamics CRM, .Net, Sharepoint, TFS, Visual Studio..." data-wpel-link="internal">Microsoft</a>
</li>
	<li class="cat-item cat-item-266"><a href="http://blog.agilepartner.net/mobile/" title="All about mobile technologies" data-wpel-link="internal">Mobile</a>
</li>
	<li class="cat-item cat-item-214"><a href="http://blog.agilepartner.net/methodologies/" title="Other methodologies: Lean, Kanban, Management 3.0..." data-wpel-link="internal">Other Methodologies</a>
</li>
	<li class="cat-item cat-item-373"><a href="http://blog.agilepartner.net/presse/" data-wpel-link="internal">Presse</a>
</li>
	<li class="cat-item cat-item-366"><a href="http://blog.agilepartner.net/rdv-tech/" data-wpel-link="internal">RDV Tech</a>
</li>
	<li class="cat-item cat-item-211"><a href="http://blog.agilepartner.net/review/" title="Events review" data-wpel-link="internal">Review</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://blog.agilepartner.net/scrum/" title="All about Scrum" data-wpel-link="internal">Scrum</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://blog.agilepartner.net/testing/" title="All about testing and&nbsp;quality assurance" data-wpel-link="internal">Testing</a>
</li>
	<li class="cat-item cat-item-54"><a href="http://blog.agilepartner.net/tools/" title="All about tools" data-wpel-link="internal">Tools</a>
</li>
		</ul>
</div>			</div>
		</div>
	</div>
</div>	</div>
</div>

	</div>
</footer>

</div> <!-- close div.qodef-wrapper-inner  -->
</div> <!-- close div.qodef-wrapper -->
<!-- ngg_resource_manager_marker --><script type="text/javascript" src="Private-Registry-htpasswd_files/anti-spam-4.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/core.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/widget.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/tabs.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/accordion.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var mejsL10n = 
{"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Turn
 off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go 
Fullscreen","Download File":"Download File","Download Video":"Download 
Video","Play":"Play","Pause":"Pause","Captions\/Subtitles":"Captions\/Subtitles","None":"None","Time
 Slider":"Time Slider","Skip back %1 seconds":"Skip back %1 
seconds","Video Player":"Video Player","Audio Player":"Audio 
Player","Volume Slider":"Volume Slider","Mute Toggle":"Mute 
Toggle","Unmute":"Unmute","Mute":"Mute","Use Up\/Down Arrow keys to 
increase or decrease volume.":"Use Up\/Down Arrow keys to increase or 
decrease volume.","Use Left\/Right Arrow keys to advance one second, 
Up\/Down arrows to advance ten seconds.":"Use Left\/Right Arrow keys to 
advance one second, Up\/Down arrows to advance ten seconds."}};
var _wpmejsSettings = 
{"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/mediaelement-and-player.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/wp-mediaelement.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/mouse.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/slider.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/third-party.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/isotope.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var qodefGlobalVars = 
{"vars":{"qodefAddForAdminBar":0,"qodefElementAppearAmount":-150,"qodefFinishedMessage":"No
 more posts","qodefMessage":"Loading new 
posts...","qodefTopBarHeight":0,"qodefStickyHeaderHeight":0,"qodefStickyHeaderTransparencyHeight":0,"qodefLogoAreaHeight":0,"qodefMenuAreaHeight":0}};
var
 qodefPerPageVars = 
{"vars":{"qodefStickyScrollAmount":0,"qodefHeaderTransparencyHeight":0}};
/*
 ]]> */
</script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/modules.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/blog.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/comment-reply.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/js_composer_front.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/like.js"></script>
<script type="text/javascript" src="Private-Registry-htpasswd_files/wp-embed.js"></script>

</body></html>